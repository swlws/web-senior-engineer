# Computed

## computed 的触发机制与时机

### 1️⃣ 依赖收集阶段

- 当组件渲染时，模板中访问了 computed 属性；
- Vue 会执行该 computed 的 getter；
- getter 中访问的响应式属性（data 或其他 computed）会被收集为依赖。

### 2️⃣ 依赖变更阶段

- 当依赖的数据变化时，Vue 不会立刻重新计算；
- 而是将该计算属性标记为 “dirty”（脏状态）。

### 3️⃣ 下次访问阶段

- 当模板或代码下次访问该计算属性时：
  - 若是脏的（依赖已变化），重新计算；
  - 若依赖未变化，则直接返回缓存的值。

### 📘 总结一句话

computed 的回调只有在「依赖变了 + 下次访问时」才会触发计算。
