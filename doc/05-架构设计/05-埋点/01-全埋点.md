# å…¨åŸ‹ç‚¹

## ðŸ”Ž ä»€ä¹ˆæ˜¯å…¨åŸ‹ç‚¹

å…¨åŸ‹ç‚¹æ˜¯ç›¸å¯¹ æ‰‹åŠ¨åŸ‹ç‚¹ï¼ˆä»£ç åŸ‹ç‚¹ï¼‰ çš„æ¦‚å¿µã€‚

- æ‰‹åŠ¨åŸ‹ç‚¹ï¼šå¼€å‘åœ¨ä»£ç ä¸­æ˜Žç¡®è°ƒç”¨åŸ‹ç‚¹æ–¹æ³•ï¼Œæ¯”å¦‚ï¼š
  ```js
  track("click_button", { id: "login" });
  ```
- å…¨åŸ‹ç‚¹ï¼šSDK è‡ªåŠ¨æ”¶é›†ç”¨æˆ·åœ¨é¡µé¢ä¸Šçš„è¡Œä¸ºï¼ˆå¦‚ç‚¹å‡»ã€è¾“å…¥ã€æµè§ˆã€æ»šåŠ¨ç­‰ï¼‰ï¼Œæ— éœ€å¼€å‘é€ä¸ªå†™åŸ‹ç‚¹ä»£ç ï¼Œé‡‡é›†åˆ°æ•°æ®åŽå†é€šè¿‡åŽå°è§„åˆ™é…ç½®æ¥åˆ†æžã€‚

## âš™ï¸ å…¨åŸ‹ç‚¹çš„å¸¸è§é‡‡é›†æ–¹å¼

1. DOM äº‹ä»¶ç›‘å¬

- è‡ªåŠ¨ç›‘å¬ clickã€changeã€submitã€scroll ç­‰äº‹ä»¶
- é€šè¿‡äº‹ä»¶å†’æ³¡èŽ·å–è§¦å‘å…ƒç´ åŠå…¶å±žæ€§ï¼ˆå¦‚ classã€idã€data-\*ï¼‰

2. å¯è§†åŒ–é…ç½®

- å¹³å°æä¾›ã€Œå¯è§†åŒ–åœˆé€‰ã€åŠŸèƒ½ï¼Œè¿è¥/äº§å“åœ¨é¡µé¢ä¸Šç‚¹é€‰å…ƒç´ ï¼Œå³å¯å®šä¹‰åŸ‹ç‚¹è§„åˆ™
- å¸¸è§äºŽ GrowingIOã€ç¥žç­–ã€å‹ç›Ÿ

3. WebView/Hybrid æ”¯æŒ

- é€šè¿‡æ³¨å…¥ JS Bridgeï¼Œå°† H5 äº‹ä»¶ä¸ŠæŠ¥åˆ° Native SDK

4. æ—¥å¿—ä¸ŠæŠ¥æ–¹å¼

- navigator.sendBeacon()ï¼ˆæŽ¨èï¼Œé¡µé¢å¸è½½æ—¶ä»èƒ½å‘é€ï¼‰
- fetch / XMLHttpRequest

## ðŸ“Š å…¨åŸ‹ç‚¹çš„ä¼˜ç¼ºç‚¹

âœ… ä¼˜ç‚¹

- å¼€å‘æˆæœ¬ä½Žï¼šä¸éœ€è¦å‰ç«¯å†™å¾ˆå¤šåŸ‹ç‚¹ä»£ç 
- ä¸Šçº¿å¿«ï¼šå¯è§†åŒ–é…ç½®åŸ‹ç‚¹ï¼Œçµæ´»è°ƒæ•´
- è¦†ç›–é¢å¹¿ï¼šå¯ä»¥è‡ªåŠ¨è®°å½•å¤§éƒ¨åˆ†äº¤äº’äº‹ä»¶

âŒ ç¼ºç‚¹

- æ•°æ®å†—ä½™ï¼šå¯èƒ½é‡‡é›†äº†å¾ˆå¤šæ²¡ç”¨çš„äº‹ä»¶ï¼Œæ•°æ®é‡å¤§
- è¯­ä¹‰ä¸æ¸…æ™°ï¼šè‡ªåŠ¨é‡‡é›†çš„äº‹ä»¶åå¾€å¾€æ²¡æœ‰ä¸šåŠ¡è¯­ä¹‰ï¼Œéœ€è¦åŽæœŸæ¸…æ´—
- æ€§èƒ½å½±å“ï¼šé¢‘ç¹äº‹ä»¶ï¼ˆå¦‚ scrollã€inputï¼‰å¯èƒ½å¢žåŠ æ€§èƒ½å¼€é”€
- å¤æ‚åœºæ™¯ä¸è¶³ï¼šå¦‚â€œç‚¹å‡»æŸæŒ‰é’®åŽå†è¾“å…¥å†…å®¹â€è¿™ç§ä¸šåŠ¡è¯­ä¹‰ï¼Œä»éœ€æ‰‹åŠ¨åŸ‹ç‚¹

## ðŸ› ï¸ å¸¸è§æ”¯æŒå…¨åŸ‹ç‚¹çš„å·¥å…·

- GrowingIO â†’ å›½å†…æœ€æ—©åšå…¨åŸ‹ç‚¹ & å¯è§†åŒ–åœˆé€‰
- ç¥žç­–æ•°æ®ï¼ˆSensorsDataï¼‰ â†’ æ”¯æŒå…¨åŸ‹ç‚¹ã€ä»£ç åŸ‹ç‚¹ã€å¯è§†åŒ–åŸ‹ç‚¹ä¸‰ç§æ¨¡å¼
- å‹ç›Ÿ+ â†’ ç§»åŠ¨ç«¯ä¸ºä¸»ï¼ŒWeb ä¹Ÿæ”¯æŒå…¨åŸ‹ç‚¹
- Mixpanel / Amplitude â†’ å›½å¤–åŒç±»å·¥å…·ï¼Œæ”¯æŒ auto track
- è‡ªç ”æ–¹æ¡ˆï¼šåŸºäºŽ MutationObserver + DOM äº‹ä»¶ç›‘å¬

## ðŸš€ å…¸åž‹å®žçŽ°æ€è·¯ï¼ˆç®€åŒ–ç‰ˆç¤ºä¾‹ï¼‰

```js
// ç®€æ˜“å…¨åŸ‹ç‚¹ SDK
document.addEventListener("click", (e) => {
  const target = e.target;
  const eventData = {
    type: "click",
    tag: target.tagName,
    id: target.id,
    class: target.className,
    text: target.innerText?.slice(0, 20),
    path: location.pathname,
    timestamp: Date.now(),
  };

  navigator.sendBeacon("/track", JSON.stringify(eventData));
});
```
