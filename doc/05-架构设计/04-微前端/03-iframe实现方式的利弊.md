# iframe 实现方式的利弊

iframe 方式是微前端最早、最简单的实现方式，优缺点非常明显，适合一些低频、松耦合的场景，但不太适合现代大型应用的核心业务。

## 1. 原理

主应用通过 <iframe src="子应用URL"> 将子应用嵌入页面，每个 iframe 有独立的浏览器上下文（DOM、JS、CSS、Storage 等），几乎等于运行了一个独立的页面。

## 2. 优点

| 优点               | 说明                                                        |
| ------------------ | ----------------------------------------------------------- |
| **天然隔离**       | DOM、CSS、JS、全局变量、事件互不影响，不担心冲突            |
| **技术栈完全无关** | 子应用可以用任意框架、任意版本，不需要和主应用适配          |
| **接入简单**       | 直接写 `<iframe>`，无需复杂的构建和路由接管                 |
| **安全性好**       | iframe 可以通过 `sandbox`、`CSP` 等属性进一步限制子应用权限 |

## 3. 缺点

| 缺点               | 说明                                                                               |
| ------------------ | ---------------------------------------------------------------------------------- |
| **性能差**         | 每个 iframe 都会启动一个完整的浏览器渲染流程（HTML 解析、CSS/JS 执行），加载速度慢 |
| **SEO 不友好**     | 搜索引擎一般不会抓取 iframe 内的内容                                               |
| **通信困难**       | 主应用与子应用需要通过 `postMessage` 进行跨域通信，接口复杂且易出错                |
| **路由不同步**     | iframe 内的路由变化不会自动反映到主应用 URL，反之亦然，需要手动同步                |
| **样式与布局受限** | iframe 的高度自适应困难，需要额外脚本调整                                          |
| **体验割裂**       | iframe 内页面刷新会导致白屏，主子应用之间切换不够流畅                              |

## 4. 适用场景

- B 端管理系统中的低频功能模块（例如统计报表、外部工具页面）
- 嵌入第三方系统（无法改造源码，直接 iframe 嵌入）
- 需要强隔离的安全场景（如金融后台嵌入高敏感数据模块）
