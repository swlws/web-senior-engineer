# å¼€æºå·¥å…·

åœ¨ Web å‰ç«¯ åœºæ™¯ä¸­ï¼Œå¸¸è§çš„è§†é¢‘â€œå½•åˆ¶â€å’Œâ€œæ’­æ”¾â€æ–¹æ¡ˆæ˜¯ä¸¤å¤§ç±»åŠŸèƒ½ï¼Œä½†æŠ€æœ¯ä½“ç³»ã€APIã€ç¬¬ä¸‰æ–¹åº“ã€å…¼å®¹æ€§å·®åˆ«å¾ˆå¤§ã€‚

## ğŸ§© ä¸€ã€è§†é¢‘å½•åˆ¶ï¼ˆWeb ç«¯ï¼‰

### âœ… 1. åŸç”Ÿ APIï¼šMediaRecorder + getUserMedia

æœ€ä¸»æµã€è·¨å¹³å°å…¼å®¹æ€§å¥½çš„æµè§ˆå™¨åŸç”Ÿæ–¹æ¡ˆ

æ ¸å¿ƒåŸç†ï¼š

- navigator.mediaDevices.getUserMedia() è·å–æ‘„åƒå¤´/éº¦å…‹é£æµï¼›
- MediaRecorder å¯¹æµè¿›è¡Œå½•åˆ¶ï¼›
- ç”Ÿæˆ Blobï¼ˆä¸€èˆ¬æ˜¯ video/webm æˆ– video/mp4ï¼‰ï¼›
- å¯æœ¬åœ°ä¿å­˜æˆ–ä¸Šä¼ æœåŠ¡å™¨ã€‚

ç¤ºä¾‹ä»£ç ï¼š

```js
const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
const recorder = new MediaRecorder(stream, { mimeType: 'video/webm' });
const chunks = [];

recorder.ondataavailable = e => chunks.push(e.data);
recorder.onstop = () => {
  const blob = new Blob(chunks, { type: 'video/webm' });
  const url = URL.createObjectURL(blob);
  video.src = url; // å›æ”¾
};

recorder.start();
setTimeout(() => recorder.stop(), 5000); // å½•5ç§’
```

ç‰¹ç‚¹ï¼š

- âœ… æ— éœ€ä¾èµ–åº“ï¼›
- âœ… å¯å½•åˆ¶å±å¹•ï¼ˆgetDisplayMediaï¼‰ï¼›
- âš ï¸ Safari å¯¹ MediaRecorder æ”¯æŒè¾ƒå·®ï¼›
- âš ï¸ è¾“å‡ºæ ¼å¼é€šå¸¸ä¸º .webmï¼ŒiOS ä¸Šå…¼å®¹æ€§éœ€æ³¨æ„ã€‚

### âœ… 2. å±å¹•å½•åˆ¶ï¼šnavigator.mediaDevices.getDisplayMedia()

ç¤ºä¾‹ï¼š

```js
const stream = await navigator.mediaDevices.getDisplayMedia({ video: true, audio: true });
const recorder = new MediaRecorder(stream);
recorder.start();
```

ç‰¹ç‚¹ï¼š

- å¯å½•åˆ¶å½“å‰ç½‘é¡µã€æ¡Œé¢ã€åº”ç”¨çª—å£ï¼›
- Chrome/Edge/Firefox å‡æ”¯æŒï¼›
- å¯ç»“åˆéº¦å…‹é£æ··éŸ³ã€‚

### âš™ï¸ 3. ç¬¬ä¸‰æ–¹å½•åˆ¶åº“

| åº“                                 | åŠŸèƒ½                    | ç‰¹ç‚¹                                 |
| --------------------------------- | --------------------- | ---------------------------------- |
| **RecordRTC**                     | å½•éŸ³ã€å½•å±ã€æ‘„åƒå¤´å½•åˆ¶           | å°è£…äº† `MediaRecorder`ï¼Œå…¼å®¹æ—§æµè§ˆå™¨ï¼Œæ”¯æŒå¤šæ ¼å¼è¾“å‡º |
| **WebRTC + Canvas CaptureStream** | è‡ªå®šä¹‰å½•åˆ¶å†…å®¹ï¼ˆä¾‹å¦‚ Canvas åŠ¨ç”»ï¼‰ | é«˜åº¦çµæ´»ï¼Œå¯å½•åˆ¶ç»˜å›¾ã€æ¸¸æˆç”»é¢                    |
| **videojs-record**                | Video.js æ’ä»¶ï¼Œå¸¦å½•åˆ¶æŒ‰é’® UI  | ä¸€ç«™å¼è§£å†³ï¼šæ‹æ‘„ + æ’­æ”¾ + ä¸Šä¼                  |

## ğŸ¬ äºŒã€è§†é¢‘æ’­æ”¾å™¨ï¼ˆWeb ç«¯ï¼‰
