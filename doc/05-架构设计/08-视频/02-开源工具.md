# 开源工具

在 Web 前端 场景中，常见的视频“录制”和“播放”方案是两大类功能，但技术体系、API、第三方库、兼容性差别很大。

## 🧩 一、视频录制（Web 端）

### ✅ 1. 原生 API：MediaRecorder + getUserMedia

最主流、跨平台兼容性好的浏览器原生方案

核心原理：

- navigator.mediaDevices.getUserMedia() 获取摄像头/麦克风流；
- MediaRecorder 对流进行录制；
- 生成 Blob（一般是 video/webm 或 video/mp4）；
- 可本地保存或上传服务器。

示例代码：

```js
const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
const recorder = new MediaRecorder(stream, { mimeType: 'video/webm' });
const chunks = [];

recorder.ondataavailable = e => chunks.push(e.data);
recorder.onstop = () => {
  const blob = new Blob(chunks, { type: 'video/webm' });
  const url = URL.createObjectURL(blob);
  video.src = url; // 回放
};

recorder.start();
setTimeout(() => recorder.stop(), 5000); // 录5秒
```

特点：

- ✅ 无需依赖库；
- ✅ 可录制屏幕（getDisplayMedia）；
- ⚠️ Safari 对 MediaRecorder 支持较差；
- ⚠️ 输出格式通常为 .webm，iOS 上兼容性需注意。

### ✅ 2. 屏幕录制：navigator.mediaDevices.getDisplayMedia()

示例：

```js
const stream = await navigator.mediaDevices.getDisplayMedia({ video: true, audio: true });
const recorder = new MediaRecorder(stream);
recorder.start();
```

特点：

- 可录制当前网页、桌面、应用窗口；
- Chrome/Edge/Firefox 均支持；
- 可结合麦克风混音。

### ⚙️ 3. 第三方录制库

| 库                                 | 功能                    | 特点                                 |
| --------------------------------- | --------------------- | ---------------------------------- |
| **RecordRTC**                     | 录音、录屏、摄像头录制           | 封装了 `MediaRecorder`，兼容旧浏览器，支持多格式输出 |
| **WebRTC + Canvas CaptureStream** | 自定义录制内容（例如 Canvas 动画） | 高度灵活，可录制绘图、游戏画面                    |
| **videojs-record**                | Video.js 插件，带录制按钮 UI  | 一站式解决：拍摄 + 播放 + 上传                 |

## 🎬 二、视频播放器（Web 端）
