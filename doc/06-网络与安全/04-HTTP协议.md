# HTTP 协议的演变历程

HTTP（HyperText Transfer Protocol）是万维网上最核心的通信协议，其发展过程伴随着互联网的演进。下面是 HTTP 协议从最初到现在的主要演变历程，涵盖关键版本、特性变迁及性能改进。

## 📜 一、HTTP 协议演变时间线

| 版本       | 发布年份 | 主要特点                        |
| -------- | ---- | --------------------------- |
| HTTP/0.9 | 1991 | 仅支持 GET 请求，纯文本，无法传输图片等      |
| HTTP/1.0 | 1996 | 支持多种方法（GET、POST、HEAD），引入响应头 |
| HTTP/1.1 | 1997 | 长连接、管道化、缓存控制、分块传输等          |
| SPDY     | 2009 | Google 提出，解决 HTTP/1.1 性能瓶颈  |
| HTTP/2   | 2015 | 多路复用、头部压缩、服务器推送             |
| HTTP/3   | 2022 | 基于 QUIC 协议，性能更优，连接更快        |

## 🔍 二、各版本详解

### 🔸 1. HTTP/0.9（1991）

- 只支持 GET 请求
- 没有请求头/响应头
- 每次请求都需重新建立 TCP 连接
- 只能传输 HTML 文本

示例：

```http
GET /index.html
```

### 🔸 2. HTTP/1.0（1996）

支持请求头和响应头

- 支持 GET、POST、HEAD
- 每个请求仍需独立的 TCP 连接（非长连接）
- 新增内容类型（Content-Type）、状态码等。

示例请求：

```http
GET /index.html HTTP/1.0
Host: www.example.com
```

### 🔸 3. HTTP/1.1（1997）

📌 重大升级版，长期主流协议

- 支持长连接（Connection: keep-alive）
- 支持 管道化（Pipeline）（但实际支持差）
- 支持缓存控制（Cache-Control）
- 分块传输编码（Chunked Transfer-Encoding）
- 支持 Host 头，允许虚拟主机

不足：

- 串行阻塞（HOL Blocking）
- 多个请求必须按顺序处理，影响性能

### 🔸 4. SPDY（2009，实验性）

- Google 提出，旨在解决 HTTP/1.1 性能瓶颈
- 支持：
  - 多路复用
  - 请求优先级
  - 头部压缩
- 被纳入 HTTP/2 的设计基础

已废弃，由 HTTP/2 完全取代。

### 🔸 5. HTTP/2（2015）

- ✅ 多路复用：多个请求共享一个 TCP 连接
- ✅ 二进制帧传输：更高效地解析数据
- ✅ 头部压缩（HPACK）：减少重复传输
- ✅ 服务器推送（Server Push）
- 更强的优先级和流控机制

缺点：

- 仍基于 TCP，遇到丢包时仍受限于 TCP 队头阻塞

### 🔸 6. HTTP/3（2022）

- ⚡ 基于 Google 的 QUIC 协议（UDP 之上）
- ✅ 连接建立更快（0-RTT，减少握手）
- ✅ 不再受 TCP 队头阻塞影响
- ✅ 更好的移动场景支持（如 Wi-Fi 与 5G 切换）
- ✅ 加密默认启用（集成 TLS 1.3）

特性总结：

| 特性     | HTTP/2 | HTTP/3    |
| ------ | ------ | --------- |
| 传输协议   | TCP    | QUIC（UDP） |
| 多路复用   | ✅      | ✅         |
| 加密默认启用 | ❌      | ✅         |
| 队头阻塞   | ❌      | ✅ 完全解决    |
| 建连速度   | 慢（握手多） | 快（0-RTT）  |

## ✅ 三、版本对比总结

| 特性    | HTTP/1.0 | HTTP/1.1 | HTTP/2  | HTTP/3               |
| ----- | -------- | -------- | ------- | -------------------- |
| 多请求并发 | ❌        | 部分支持     | ✅       | ✅                    |
| 长连接   | ❌        | ✅        | ✅       | ✅                    |
| 头部压缩  | ❌        | ❌        | ✅       | ✅（QPACK）             |
| 传输方式  | 文本       | 文本       | 二进制帧    | 二进制帧                 |
| 加密要求  | ❌        | ❌        | 可选      | 默认开启（QUIC + TLS 1.3） |
| 队头阻塞  | 严重       | 严重       | TCP层有阻塞 | 完全避免                 |
| 建连速度  | 慢        | 慢        | 慢       | 快（0-RTT）             |

## 📌 四、总结

- HTTP/1.1 是 Web 的奠基版本，但性能瓶颈明显
- HTTP/2 解决了部分性能问题，引入多路复用等关键特性
- HTTP/3 更进一步，用 QUIC 协议突破 TCP 的限制，未来主流趋势
